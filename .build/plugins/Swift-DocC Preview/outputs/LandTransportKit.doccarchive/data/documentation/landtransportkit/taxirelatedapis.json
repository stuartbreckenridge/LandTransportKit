{"kind":"article","schemaVersion":{"patch":0,"major":0,"minor":3},"sections":[],"metadata":{"color":{"standardColorIdentifier":"yellow"},"modules":[{"name":"LandTransportKit"}],"role":"collectionGroup","title":"Taxi Related APIs","roleHeading":"API Collection"},"seeAlsoSections":[{"anchor":"Taxi","identifiers":["doc:\/\/LandTransportKit\/documentation\/LandTransportKit\/TaxiAvailability","doc:\/\/LandTransportKit\/documentation\/LandTransportKit\/TaxiStand"],"title":"Taxi","generated":true}],"primaryContentSections":[{"kind":"content","content":[{"type":"heading","level":2,"text":"Overview","anchor":"Overview"},{"type":"paragraph","inlineContent":[{"text":"LandTransportKit provides two taxi-related APIs:","type":"text"}]},{"type":"table","header":"row","rows":[[[{"inlineContent":[{"text":"API","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Method","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Description","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"Taxi Availability","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/LandTransportKit\/documentation\/LandTransportKit\/LandTransportAPI\/downloadTaxiAvailability()"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Real-time locations of available taxis","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"Taxi Stands","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/LandTransportKit\/documentation\/LandTransportKit\/LandTransportAPI\/downloadTaxiStands()"}],"type":"paragraph"}],[{"inlineContent":[{"text":"All taxi stand locations","type":"text"}],"type":"paragraph"}]]]},{"type":"heading","level":2,"text":"Taxi Availability","anchor":"Taxi-Availability"},{"type":"paragraph","inlineContent":[{"text":"The taxi availability API returns the current locations of all available taxis in Singapore. This data is updated frequently and provides a real-time snapshot of taxi positions.","type":"text"}]},{"type":"heading","level":3,"text":"Basic Usage","anchor":"Basic-Usage"},{"type":"codeListing","code":["import LandTransportKit","","let taxis = try await LandTransportAPI.shared.downloadTaxiAvailability()","print(\"Available taxis: \\(taxis.count)\")"],"syntax":"swift"},{"type":"heading","level":3,"text":"Finding Nearby Taxis","anchor":"Finding-Nearby-Taxis"},{"type":"paragraph","inlineContent":[{"text":"Use CoreLocation to find taxis near a specific location:","type":"text"}]},{"type":"codeListing","code":["import CoreLocation","import LandTransportKit","","func findNearbyTaxis(near location: CLLocation, radius: CLLocationDistance = 1000) async throws -> [TaxiAvailability] {","    let allTaxis = try await LandTransportAPI.shared.downloadTaxiAvailability()","    ","    return allTaxis.filter { taxi in","        taxi.location.distance(from: location) <= radius","    }.sorted { taxi1, taxi2 in","        taxi1.location.distance(from: location) < taxi2.location.distance(from: location)","    }","}","","\/\/ Usage","let myLocation = CLLocation(latitude: 1.2838, longitude: 103.8591) \/\/ Marina Bay","let nearbyTaxis = try await findNearbyTaxis(near: myLocation)","print(\"Found \\(nearbyTaxis.count) taxis within 1km\")"],"syntax":"swift"},{"type":"heading","level":3,"text":"Displaying Taxis on a Map","anchor":"Displaying-Taxis-on-a-Map"},{"type":"codeListing","code":["import SwiftUI","import MapKit","import LandTransportKit","","struct TaxiMapView: View {","    @State private var taxis: [TaxiAvailability] = []","    @State private var position = MapCameraPosition.region(","        MKCoordinateRegion(","            center: CLLocationCoordinate2D(latitude: 1.3521, longitude: 103.8198),","            span: MKCoordinateSpan(latitudeDelta: 0.05, longitudeDelta: 0.05)","        )","    )","    ","    var body: some View {","        Map(position: $position) {","            ForEach(taxis, id: \\.id) { taxi in","                Marker(\"Taxi\", systemImage: \"car.fill\", coordinate: taxi.coordinate2D)","                    .tint(.yellow)","            }","        }","        .task {","            await loadTaxis()","        }","        .refreshable {","            await loadTaxis()","        }","    }","    ","    private func loadTaxis() async {","        do {","            taxis = try await LandTransportAPI.shared.downloadTaxiAvailability()","        } catch {","            print(\"Error loading taxis: \\(error)\")","        }","    }","}"],"syntax":"swift"},{"type":"heading","level":3,"text":"Taxi Location Properties","anchor":"Taxi-Location-Properties"},{"type":"paragraph","inlineContent":[{"text":"Each ","type":"text"},{"isActive":true,"identifier":"doc:\/\/LandTransportKit\/documentation\/LandTransportKit\/TaxiAvailability","type":"reference"},{"text":" object provides convenient location accessors:","type":"text"}]},{"type":"codeListing","code":["let taxi = taxis.first!","","\/\/ As CLLocation (useful for distance calculations)","let location = taxi.location","let distanceToMe = location.distance(from: myLocation)","","\/\/ As CLLocationCoordinate2D (useful for MapKit)","let coordinate = taxi.coordinate2D","print(\"Taxi at: \\(coordinate.latitude), \\(coordinate.longitude)\")","","\/\/ Raw values","print(\"Latitude: \\(taxi.Latitude)\")","print(\"Longitude: \\(taxi.Longitude)\")"],"syntax":"swift"},{"type":"heading","level":2,"text":"Taxi Stands","anchor":"Taxi-Stands"},{"type":"paragraph","inlineContent":[{"text":"The taxi stands API returns all official taxi stand locations in Singapore.","type":"text"}]},{"type":"heading","level":3,"text":"Basic Usage","anchor":"Basic-Usage"},{"type":"codeListing","code":["let stands = try await LandTransportAPI.shared.downloadTaxiStands()","print(\"Total taxi stands: \\(stands.count)\")"],"syntax":"swift"},{"type":"heading","level":3,"text":"Finding Nearby Stands","anchor":"Finding-Nearby-Stands"},{"type":"codeListing","code":["import CoreLocation","","func findNearbyStands(near location: CLLocation, limit: Int = 5) async throws -> [TaxiStand] {","    let allStands = try await LandTransportAPI.shared.downloadTaxiStands()","    ","    return allStands","        .sorted { stand1, stand2 in","            stand1.location.distance(from: location) < stand2.location.distance(from: location)","        }","        .prefix(limit)","        .map { $0 }","}"],"syntax":"swift"},{"type":"heading","level":3,"text":"Taxi Stand Details","anchor":"Taxi-Stand-Details"},{"type":"codeListing","code":["let stand = stands.first!","","print(\"Name: \\(stand.Name)\")","print(\"Type: \\(stand.Type)\")           \/\/ \"Stand\" or \"Stop\"","print(\"Owner: \\(stand.Ownership)\")     \/\/ \"LTA\" or other","print(\"Status: \\(stand.Status)\")       \/\/ \"Yes\" if operational","","\/\/ Location","let coordinate = stand.coordinate2D","print(\"Location: \\(coordinate.latitude), \\(coordinate.longitude)\")"],"syntax":"swift"},{"type":"heading","level":3,"text":"Filtering by Type","anchor":"Filtering-by-Type"},{"type":"codeListing","code":["\/\/ Get only taxi stands (not stops)","let standsOnly = stands.filter { $0.Type == \"Stand\" }","","\/\/ Get operational stands only","let operationalStands = stands.filter { $0.Status == \"Yes\" }"],"syntax":"swift"},{"type":"heading","level":2,"text":"Complete Example","anchor":"Complete-Example"},{"type":"paragraph","inlineContent":[{"text":"Here’s a complete SwiftUI view that shows nearby taxis and taxi stands:","type":"text"}]},{"type":"codeListing","code":["import SwiftUI","import MapKit","import CoreLocation","import LandTransportKit","","struct TaxiFinderView: View {","    @State private var taxis: [TaxiAvailability] = []","    @State private var stands: [TaxiStand] = []","    @State private var isLoading = false","    @State private var showStands = true","    @State private var showTaxis = true","    ","    @State private var position = MapCameraPosition.region(","        MKCoordinateRegion(","            center: CLLocationCoordinate2D(latitude: 1.2903, longitude: 103.8520),","            span: MKCoordinateSpan(latitudeDelta: 0.02, longitudeDelta: 0.02)","        )","    )","    ","    var body: some View {","        Map(position: $position) {","            if showTaxis {","                ForEach(taxis, id: \\.id) { taxi in","                    Marker(\"Available Taxi\", systemImage: \"car.fill\", coordinate: taxi.coordinate2D)","                        .tint(.yellow)","                }","            }","            ","            if showStands {","                ForEach(stands, id: \\.id) { stand in","                    Marker(stand.Name, systemImage: \"mappin\", coordinate: stand.coordinate2D)","                        .tint(.blue)","                }","            }","        }","        .overlay(alignment: .topTrailing) {","            VStack {","                Toggle(\"Taxis\", isOn: $showTaxis)","                Toggle(\"Stands\", isOn: $showStands)","            }","            .padding()","            .background(.regularMaterial)","            .clipShape(RoundedRectangle(cornerRadius: 12))","            .padding()","        }","        .overlay(alignment: .bottom) {","            HStack {","                Label(\"\\(taxis.count) taxis\", systemImage: \"car.fill\")","                Spacer()","                Label(\"\\(stands.count) stands\", systemImage: \"mappin\")","            }","            .padding()","            .background(.regularMaterial)","        }","        .task {","            await loadData()","        }","        .refreshable {","            await loadData()","        }","    }","    ","    private func loadData() async {","        isLoading = true","        defer { isLoading = false }","        ","        async let taxiTask = LandTransportAPI.shared.downloadTaxiAvailability()","        async let standsTask = LandTransportAPI.shared.downloadTaxiStands()","        ","        do {","            let (loadedTaxis, loadedStands) = try await (taxiTask, standsTask)","            taxis = loadedTaxis","            stands = loadedStands","        } catch {","            print(\"Error: \\(error)\")","        }","    }","}"],"syntax":"swift"}]}],"topicSections":[{"anchor":"Models","identifiers":["doc:\/\/LandTransportKit\/documentation\/LandTransportKit\/TaxiAvailability","doc:\/\/LandTransportKit\/documentation\/LandTransportKit\/TaxiStand"],"title":"Models"}],"abstract":[{"type":"text","text":"Access real-time taxi availability and taxi stand locations."}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/landtransportkit\/taxirelatedapis"]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/LandTransportKit\/documentation\/LandTransportKit\/TaxiRelatedAPIs"},"hierarchy":{"paths":[["doc:\/\/LandTransportKit\/documentation\/LandTransportKit"]]},"references":{"doc://LandTransportKit/documentation/LandTransportKit/TaxiAvailability":{"type":"topic","identifier":"doc:\/\/LandTransportKit\/documentation\/LandTransportKit\/TaxiAvailability","kind":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"TaxiAvailability"}],"abstract":[{"text":"A structure representing the availability and location of a single taxi.","type":"text"}],"url":"\/documentation\/landtransportkit\/taxiavailability","role":"symbol","navigatorTitle":[{"text":"TaxiAvailability","kind":"identifier"}],"title":"TaxiAvailability"},"LTK-Red.png":{"identifier":"LTK-Red.png","variants":[{"url":"\/images\/LandTransportKit\/LTK-Red.png","traits":["1x","light"]}],"alt":null,"type":"image"},"doc://LandTransportKit/documentation/LandTransportKit/LandTransportAPI/downloadTaxiAvailability()":{"title":"downloadTaxiAvailability()","kind":"symbol","url":"\/documentation\/landtransportkit\/landtransportapi\/downloadtaxiavailability()","abstract":[{"type":"text","text":"Retrieves the current locations of available taxis."}],"fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"downloadTaxiAvailability","kind":"identifier"},{"text":"() ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> [","kind":"text"},{"text":"TaxiAvailability","kind":"typeIdentifier","preciseIdentifier":"s:16LandTransportKit16TaxiAvailabilityV"},{"text":"]","kind":"text"}],"role":"symbol","identifier":"doc:\/\/LandTransportKit\/documentation\/LandTransportKit\/LandTransportAPI\/downloadTaxiAvailability()","type":"topic"},"doc://LandTransportKit/documentation/LandTransportKit/LandTransportAPI/downloadTaxiStands()":{"title":"downloadTaxiStands()","kind":"symbol","url":"\/documentation\/landtransportkit\/landtransportapi\/downloadtaxistands()","abstract":[{"text":"Downloads the list of taxi stands from the Land Transport API.","type":"text"}],"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"downloadTaxiStands"},{"kind":"text","text":"() "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> ["},{"kind":"typeIdentifier","text":"TaxiStand","preciseIdentifier":"s:16LandTransportKit9TaxiStandV"},{"kind":"text","text":"]"}],"role":"symbol","identifier":"doc:\/\/LandTransportKit\/documentation\/LandTransportKit\/LandTransportAPI\/downloadTaxiStands()","type":"topic"},"doc://LandTransportKit/documentation/LandTransportKit":{"title":"LandTransportKit","kind":"symbol","url":"\/documentation\/landtransportkit","abstract":[{"type":"text","text":"A Swift package for accessing real-time and static data from Singapore’s Land Transport Authority (LTA) DataMall API."}],"role":"collection","identifier":"doc:\/\/LandTransportKit\/documentation\/LandTransportKit","images":[{"type":"icon","identifier":"LTK-Red.png"}],"type":"topic"},"doc://LandTransportKit/documentation/LandTransportKit/TaxiStand":{"title":"TaxiStand","kind":"symbol","url":"\/documentation\/landtransportkit\/taxistand","navigatorTitle":[{"text":"TaxiStand","kind":"identifier"}],"abstract":[{"text":"Represents a taxi stand location with associated details.","type":"text"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"TaxiStand","kind":"identifier"}],"role":"symbol","identifier":"doc:\/\/LandTransportKit\/documentation\/LandTransportKit\/TaxiStand","type":"topic"}}}